<!DOCTYPE html>
<html lang="en">

<head>
  <title>WireGuard</title>
  <link href="css/vendor/index.tailwind.min.css" rel="stylesheet">
  <link rel="manifest" href="./manifest.json">
  <link rel="icon" type="image/png" href="./img/favicon.png">
  <link rel="apple-touch-icon" href="./img/apple-touch-icon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <script src="js/vendor/cdn.tailwind.js"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          },
        }
      }
    }
  </script>
  <style>
    /* text-gray-300 */
    .special-fill:disabled > svg{
      fill: rgb(209 213 219);
    }
    /* text-gray-600 */
    .special-fill:enabled > svg{
      fill: rgb(75 85 99);
    }
    /* text-gray-100 */
    .special-fill:enabled:hover > svg{
      fill: rgb(243 244 246);
    }
    /* text-gray-600 */
    .special-fill-edit > svg > path{
      stroke: rgb(75 85 99);
    }
    /* text-gray-100 */
    .special-fill-edit:hover > svg > path{
      stroke: rgb(243 244 246);
    }
    .highlight-remove-box:hover > div > .remove-button-itself{
      opacity: 0.2;
    }
    .highlight-remove-box:hover > div > .remove-button-itself:hover{
      opacity: 1.0;
    }
    .highlight-undo-box:hover > div > .undo-button-itself{
      opacity: 0.2;
    }
    .highlight-undo-box:hover > div > .undo-button-itself:hover{
      opacity: 1.0;
    }
    .dont-highlight-undo-box:hover > div > .undo-button-itself{
      opacity: 0;
    }
    .highlight-undo-box:hover > div > .undo-button-itself > img{
      filter: invert(0.2);
    }
    .highlight-undo-box:hover > div > .undo-button-itself:hover > img{
      filter: invert(1.0);
    }
  </style>
</head>

<body class="bg-gray-50">

  <div id="app">

    <div class="container mx-auto max-w-3xl">

      <div v-if="authenticated === true">

        <div class="mt-10 mb-2" style="display: flex; align-items: center;">
          <div class="inline-block float-left ml-3" style="flex: 1; min-width: 0;">
            <h1 class="text-4xl font-medium truncate">
              <img src="./img/logo.png" width="32" class="inline align-middle" />
              <span class="align-middle">WireGuard Management Console</span>
            </h1>
          </div>

          <div class=" inline-block float-right p-3 whitespace-nowrap bg-gray-50 align-middle">
            <div v-if="requiresPassword" class="relative mb-5 bg-blue-50">
              <div class="text-sm text-gray-400 cursor-pointer hover:underline absolute top-0 right-0" @click="logout">
                Logout
                <svg class="h-3 inline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                     stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                </svg>
              </div>
            </div>
            <div>
              <div v-if="webServerStatus === 'unknown'" title="Management Web Server Status Unknown" class="inline-block shadow-md rounded-lg bg-yellow-500 hover:bg-yellow-400 p-1.5 mr-0.5"></div>
              <div v-if="webServerStatus === 'down'" title="Management Web Server is Down/Not reachable" class="inline-block shadow-md rounded-lg bg-red-500 hover:bg-red-400 p-1.5 mr-0.5"></div>
              <div v-if="webServerStatus === 'up'" title="Management Web Server is Up" class="inline-block shadow-md rounded-lg bg-green-500 hover:bg-green-400 p-1.5 mr-0.5"></div>
              <span class="text-sm text-gray-500">Web Server Status</span>
            </div>
            <div>
              <div v-if="wireguardStatus === 'unknown'" title="WireGuard Networking Status Unknown"
                   class="inline-block align-middle shadow-md rounded-full w-5 h-3 bg-yellow-500 hover:bg-yellow-400 transition-all">
                <div class="shadow-md rounded-full w-1 h-1 m-1 ml-2 bg-white"></div>
              </div>
              <div v-if="wireguardStatus === 'up'" title="Disable WireGuard Networking" @click="wireguardToggleTo = 'disable'"
                   class="inline-block align-middle shadow-md rounded-full w-5 h-3 bg-green-500 cursor-pointer hover:bg-green-400 transition-all">
                <div class="shadow-md rounded-full w-1 h-1 m-1 ml-3 bg-white"></div>
              </div>
              <div v-if="wireguardStatus === 'down'" title="Enable WireGuard Networking" @click="wireguardToggleTo = 'enable'"
                   class="inline-block align-middle shadow-md rounded-full w-5 h-3 mr-0.25 bg-red-500 cursor-pointer hover:bg-red-400 transition-all">
                <div class="shadow-md rounded-full w-1 h-1 m-1 bg-white"></div>
              </div>
              <span class="text-sm text-gray-500">WireGuard Status</span>
            </div>
          </div>
        </div>


<!--        Map -->
        <div id="graph" class="shadow-md rounded-lg bg-white overflow-hidden mx-3 my-2 justify-center h-96"></div>

        <!--        Static Peers box -->
        <div class="shadow-md rounded-lg bg-white overflow-hidden m-8">

          <!--          "Peers" + "Add a Peer" line -->
          <div class="flex flex-row flex-auto items-center p-3 px-5 border-b-2 border-gray-100">
            <div class="flex-grow">
              <p class="text-2xl font-medium">Static Peers</p>
            </div>
            <div class="flex-shrink-0">
              <button @click="peerCreateWindowHandler('init'); peerCreateMobility = 'static';"
                      class="enabled:hover:bg-green-700 enabled:hover:border-green-700 disabled:bg-gray-300 disabled:border-gray-300 enabled:hover:text-white text-gray-700 border-2 border-gray-100 py-2 px-4 rounded inline-flex items-center transition" :disabled="webServerStatus !== 'up'">
                <svg class="w-4 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                     stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                </svg>
                <span class="text-sm">Add a Peer</span>
              </button>
            </div>
          </div>

          <div>
            <!-- Peer -->
            <div v-if="Object.keys(staticPeers).length" v-for="(peerDetails, peerId) in staticPeers">
              <div class="relative overflow-hidden border-b border-gray-100 border-solid">

                <!-- Chart -->
<!--                <div v-if="Object.keys(network.connections).includes(getConnectionId('root', peerId))">-->
<!--                  <div class="absolute z-0 bottom-0 left-0 right-0" style="top: 60%;">-->
<!--                    <apexchart width="100%" height="100%" :options="peersPersist[getConnectionId('root', peerId)].chartOptions" :series="{ name: 'tx', data: peersPersist[getConnectionId('root', peerId)].transferTxHistory }">-->
<!--                    </apexchart>-->
<!--                  </div>-->
<!--                  <div class="absolute z-0 top-0 left-0 right-0" style="bottom: 60%;">-->
<!--                    <apexchart width="100%" height="100%" :options="peersPersist[getConnectionId('root', peerId)].chartOptions" :series="{ name: 'rx', data: peersPersist[getConnectionId('root', peerId)].transferRxHistory }"-->
<!--                               style="transform: scaleY(-1);">-->
<!--                    </apexchart>-->
<!--                  </div>-->
<!--                </div>-->

                <div class="relative p-5 z-10 flex flex-row">
                  <div class="h-10 w-10 mr-5 rounded-full bg-gray-50 relative" :id="`avatarDiv.${peerId}`">
                    <img v-if="peerAvatars[peerId].src !== staticPeerIconSrc" :src="peerAvatars[peerId].src" class="w-10 rounded-full absolute top-0 left-0" />
                    <img v-else class="w-4 m-3 absolute top-0 left-0" :src="staticPeerIconSrc">

                    <div v-if="Object.keys(network.connections).includes(getConnectionId('root', peerId))">
                      <div v-show="network.connections[getConnectionId('root', peerId)].latestHandshakeAt && ((new Date() - new Date(network.connections[getConnectionId('root', peerId)].latestHandshakeAt) < 1000 * 60 * 10))">
                        <div class="animate-ping w-4 h-4 p-1 bg-red-100 rounded-full absolute -bottom-1 -right-1"></div>
                        <div class="w-2 h-2 bg-red-800 rounded-full absolute bottom-0 right-0"></div>
                      </div>
                    </div>
                  </div>

                  <div class="flex-grow">

                    <!-- Name -->
                    <div class="text-gray-700 group" :title="'Created at ' + new Date(peerDetails.createdAt)">

                      <!-- Show -->
                      <input v-if="peerQuickEditNameId === peerId" v-model="peerQuickEditName"
                             v-on:keyup.enter="updatePeerName(peerId, peerQuickEditName); peerQuickEditName = null; peerQuickEditNameId = null;"
                             v-on:focusout="peerQuickEditName = null; peerQuickEditNameId = null;"
                             :ref="`peer-${peerId}-name`"
                             class="rounded px-1 border-2 border-gray-100 focus:border-gray-200 outline-none w-30" />
                      <button v-show="peerQuickEditNameId !== peerId" @click="peerEditWindowHandler('init', { peerId: peerId }); peerConfigId = peerId; peerConfigWindow = 'edit';"
                              class="inline-block border-t-2 border-b-2 border-transparent">{{peerDetails.name}}</button>

                      <!-- Edit -->
                      <span v-if="peerQuickEditNameId !== peerId"
                            @click="peerQuickEditName = peerDetails.name; peerQuickEditNameId = peerId; setTimeout(() => $refs[`peer-${peerId}-name`][0].select(), 1);"
                            class="cursor-pointer opacity-5 group-hover:opacity-100 transition-opacity">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             class="h-4 w-4 inline align-middle opacity-25 hover:opacity-100" fill="none" viewBox="0 0 24 24"
                             stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                        </svg>
                      </span>
                    </div>

                    <!-- Info -->
                    <div class="text-gray-400 text-xs">

                      <!-- Address -->
                      <span class="group">

                        <!-- Show -->
                        <input v-show="peerQuickEditAddressId === peerId" v-model="peerQuickEditAddress"
                               v-on:keyup.enter="updatePeerAddress(peerId, peerQuickEditAddress); peerQuickEditAddress = null; peerQuickEditAddressId = null;"
                               v-on:focusout="peerQuickEditAddress = null; peerQuickEditAddressId = null;"
                               :ref="`peer-${peerId}-address`"
                               class="rounded border-2 border-gray-100 focus:border-gray-200 outline-none w-20 text-black" />
                        <span v-show="peerQuickEditAddressId !== peerId"
                              class="inline-block border-t-2 border-b-2 border-transparent">{{peerDetails.address}}</span>

                        <!-- Edit -->
                        <span v-show="peerQuickEditAddressId !== peerId"
                              @click="peerQuickEditAddress = peerDetails.address; peerQuickEditAddressId = peerId; setTimeout(() => $refs[`peer-${peerId}-address`][0].select(), 1);"
                              class="cursor-pointer opacity-5 group-hover:opacity-100 transition-opacity">
                          <svg xmlns="http://www.w3.org/2000/svg"
                               class="h-4 w-4 inline align-middle opacity-25 hover:opacity-100" fill="none"
                               viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                          </svg>
                        </span>
                      </span>

                      <!-- Transfer TX -->
                      <span v-if="Object.keys(network.connections).includes(getConnectionId('root', peerId))">
                        <span v-if="network.connections[getConnectionId('root', peerId)].enabled && peersPersist[getConnectionId('root', peerId)].transferTxCurrent" :title="'Total Download: ' + bytes(network.connections[getConnectionId('root', peerId)].transferTx)">
                          ·
                          <svg class="align-middle h-3 inline" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                               fill="currentColor">
                            <path fill-rule="evenodd"
                                  d="M16.707 10.293a1 1 0 010 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l4.293-4.293a1 1 0 011.414 0z"
                                  clip-rule="evenodd" />
                          </svg>
                          {{peersPersist[getConnectionId('root', peerId)].transferTxCurrent | bytes}}/s
                        </span>
                      </span>

                      <!-- Transfer RX -->
                      <span v-if="Object.keys(network.connections).includes(getConnectionId('root', peerId))">
                        <span v-if="network.connections[getConnectionId('root', peerId)].enabled && peersPersist[getConnectionId('root', peerId)].transferRxCurrent > 0" :title="'Total Upload: ' + bytes(network.connections[getConnectionId('root', peerId)].transferRx)">
                          ·
                          <svg class="align-middle h-3 inline" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                               fill="currentColor">
                            <path fill-rule="evenodd"
                                  d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z"
                                  clip-rule="evenodd" />
                          </svg>
                          {{peersPersist[getConnectionId('root', peerId)].transferRxCurrent | bytes}}/s
                        </span>
                      </span>

                      <!-- Last seen -->
                      <span v-if="Object.keys(network.connections).includes(getConnectionId('root', peerId))">
                        <span v-show="network.connections[getConnectionId('root', peerId)].latestHandshakeAt"
                              :title="'Last seen at ' + new Date(network.connections[getConnectionId('root', peerId)].latestHandshakeAt)">
                          · {{new Date(network.connections[getConnectionId('root', peerId)].latestHandshakeAt) | timeago}}
                        </span>
                      </span>
                    </div>
                  </div>

                  <div class="text-right">
                    <div class="text-gray-400">

                      <!-- Enable/Disable -->
<!--                      <div v-if="peer.enabled === true" title="Disable Peer (not available for static peers)"-->
<!--                           class="inline-block align-middle shadow-md rounded-full w-10 h-6 mr-1 bg-green-500 opacity-20 transition-all">-->
<!--                        <div class="rounded-full shadow-md w-4 h-4 m-1 ml-5 bg-white"></div>-->
<!--                      </div>-->
<!--                      <div v-if="peer.enabled === false" title="Enable Peer (not available for static peers)"-->
<!--                           class="inline-block align-middle shadow-md rounded-full w-10 h-6 mr-1 bg-red-500 opacity-20 transition-all">-->
<!--                        <div class="rounded-full shadow-md w-4 h-4 m-1 bg-white"></div>-->
<!--                      </div>-->

                      <!-- Show QR-->
                      <button class="align-middle bg-gray-100 hover:bg-gray-600 hover:text-white p-2 rounded transition"
                              title="Show QR Code" @click="peerQRId = peerId; QRCode.toCanvas(document.getElementById('qr-canvas'), getPeerConf(peerQRId))">
                        <svg class="w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                             stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z" />
                        </svg>
                      </button>

                      <!-- Download Config -->
                      <button class="align-middle bg-gray-100 hover:bg-gray-600 hover:text-white p-2 rounded transition"
                              title="Download Configuration" @click="downloadPeerConf(peerId)">
                        <svg class="w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                             stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                        </svg>
                      </button>

                      <!-- Delete -->
                      <button class="align-middle p-2 rounded"
                              :class="{'bg-gray-100 hover:bg-red-600 hover:text-white transition': peerId !== 'root', 'bg-gray-50': peerId === 'root'}"
                              :title="peerId !== 'root' ? 'Delete Peer' : 'You can\'t delete the root peer'" @click="peerDeleteId = peerId" :disabled="peerId === 'root'">
                        <svg class="w-5" :class="{'fill-gray-300': peerId === 'root'}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                          <path fill-rule="evenodd"
                                d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"
                                clip-rule="evenodd" />
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div v-if="network.peers === null" class="text-gray-200 p-5">
              <svg class="w-5 animate-spin mx-auto" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                   fill="currentColor">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor"
                      d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                </path>
              </svg>
            </div>
            <div v-else-if="Object.keys(staticPeers).length === 0">
              <p class="text-center m-10 text-gray-400 text-sm">There are no static peers yet.<br /><br />
              <button @click="peerCreateWindowHandler('init'); peerCreateMobility = 'static';"
                      class="enabled:hover:bg-green-700 enabled:hover:border-green-700 disabled:bg-gray-300 disabled:border-gray-300 enabled:hover:text-white text-gray-700 border-2 border-gray-100 py-2 px-4 rounded inline-flex items-center transition" :disabled="webServerStatus !== 'up'">
                <svg class="w-4 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                     stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                </svg>
                <span class="text-sm">Add a Peer</span>
              </button>
              </p>
            </div>
          </div>
        </div>




        <!--        Roaming Peers box -->
        <div class="shadow-md rounded-lg bg-white overflow-hidden m-8">

<!--          "Peers" + "Add a Peer" line -->
          <div class="flex flex-row flex-auto items-center p-3 px-5 border-b-2 border-gray-100">
            <div class="flex-grow">
              <p class="text-2xl font-medium">Roaming Peers</p>
            </div>
            <div class="flex-shrink-0">
              <button @click="peerCreateWindowHandler('init'); peerCreateMobility = 'roaming';"
                class="enabled:hover:bg-green-700 enabled:hover:border-green-700 disabled:bg-gray-300 disabled:border-gray-300 enabled:hover:text-white text-gray-700 border-2 border-gray-100 py-2 px-4 rounded inline-flex items-center transition" :disabled="webServerStatus !== 'up'">
                <svg class="w-4 mr-2" inline xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                  stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                </svg>
                <span class="text-sm">Add a Peer</span>
              </button>
            </div>
          </div>

          <div>
            <!-- Peer -->
            <div v-if="Object.keys(roamingPeers).length" v-for="(peerDetails, peerId) in roamingPeers">
              <div class="relative overflow-hidden border-b border-gray-100 border-solid">

                <!-- Chart -->
<!--                <div v-if="Object.keys(network.connections).includes(getConnectionId('root', peerId))">-->
<!--                  <div class="absolute z-0 bottom-0 left-0 right-0" style="top: 60%;">-->
<!--                    <apexchart width="100%" height="100%" :options="peersPersist[getConnectionId('root', peerId)].chartOptions" :series="{ name: 'tx', data: peersPersist[getConnectionId('root', peerId)].transferTxHistory }">-->
<!--                    </apexchart>-->
<!--                  </div>-->
<!--                  <div class="absolute z-0 top-0 left-0 right-0" style="bottom: 60%;">-->
<!--                    <apexchart width="100%" height="100%" :options="peersPersist[getConnectionId('root', peerId)].chartOptions" :series="{ name: 'rx', data: peersPersist[getConnectionId('root', peerId)].transferRxHistory }"-->
<!--                               style="transform: scaleY(-1);">-->
<!--                    </apexchart>-->
<!--                  </div>-->
<!--                </div>-->

                <div class="relative p-5 z-10 flex flex-row">
                  <div class="h-10 w-10 mr-5 rounded-full bg-gray-50 relative" :id="`avatarDiv.${peerId}`">
                    <img v-if="peerAvatars[peerId].src !== roamingPeerIconSrc" :src="peerAvatars[peerId].src" class="w-10 rounded-full absolute top-0 left-0" />
                    <img v-else class="w-4 m-3 rounded-full absolute top-0 left-0" :src="roamingPeerIconSrc">
                    <!-- TODO: add this somewhere on the website <a href="https://icons8.com/icon/97937/cellular-network">Cellular Network icon by Icons8</a>-->

                    <div v-if="Object.keys(network.connections).includes(getConnectionId('root', peerId))">
                      <div v-show="network.connections[getConnectionId('root', peerId)].latestHandshakeAt && ((new Date() - new Date(network.connections[getConnectionId('root', peerId)].latestHandshakeAt) < 1000 * 60 * 10))">
                        <div class="animate-ping w-4 h-4 p-1 bg-red-100 rounded-full absolute -bottom-1 -right-1"></div>
                        <div class="w-2 h-2 bg-red-800 rounded-full absolute bottom-0 right-0"></div>
                      </div>
                    </div>
                  </div>

                  <div class="flex-grow">

                    <!-- Name -->
                    <div class="text-gray-700 group" :title="'Created at ' + new Date(peerDetails.createdAt)">

                      <!-- Show -->
                      <input v-show="peerQuickEditNameId === peerId" v-model="peerQuickEditName"
                             v-on:keyup.enter="updatePeerName(peerId, peerQuickEditName); peerQuickEditName = null; peerQuickEditNameId = null;"
                             v-on:focusout="peerQuickEditName = null; peerQuickEditNameId = null;"
                             :ref="`peer-${peerId}-name`"
                             class="rounded px-1 border-2 border-gray-100 focus:border-gray-200 outline-none w-30" />
                      <button v-show="peerQuickEditNameId !== peerId" @click="peerEditWindowHandler('init', { peerId: peerId }); peerConfigId = peerId; peerConfigWindow = 'edit';"
                              class="inline-block border-t-2 border-b-2 border-transparent">{{peerDetails.name}}</button>

                      <!-- Edit -->
                      <span v-show="peerQuickEditNameId !== peerId"
                        @click="peerQuickEditName = peerDetails.name; peerQuickEditNameId = peerId; setTimeout(() => $refs[`peer-${peerId}-name`][0].select(), 1);"
                        class="cursor-pointer opacity-5 group-hover:opacity-100 transition-opacity">
                        <svg xmlns="http://www.w3.org/2000/svg"
                          class="h-4 w-4 inline align-middle opacity-25 hover:opacity-100" fill="none" viewBox="0 0 24 24"
                          stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                        </svg>
                      </span>
                    </div>

                    <!-- Info -->
                    <div class="text-gray-400 text-xs">

                      <!-- Address -->
                      <span class="group">

                        <!-- Show -->
                        <input v-show="peerQuickEditAddressId === peerId" v-model="peerQuickEditAddress"
                               v-on:keyup.enter="updatePeerAddress(peerId, peerQuickEditAddress); peerQuickEditAddress = null; peerQuickEditAddressId = null;"
                               v-on:focusout="peerQuickEditAddress = null; peerQuickEditAddressId = null;"
                               :ref="`peer-${peerId}-address`"
                               class="rounded border-2 border-gray-100 focus:border-gray-200 outline-none w-20 text-black" />
                        <span v-show="peerQuickEditAddressId !== peerId"
                          class="inline-block border-t-2 border-b-2 border-transparent">{{peerDetails.address}}</span>

                        <!-- Edit -->
                        <span v-show="peerQuickEditAddressId !== peerId"
                          @click="peerQuickEditAddress = peerDetails.address; peerQuickEditAddressId = peerId; setTimeout(() => $refs[`peer-${peerId}-address`][0].select(), 1);"
                          class="cursor-pointer opacity-5 group-hover:opacity-100 transition-opacity">
                          <svg xmlns="http://www.w3.org/2000/svg"
                            class="h-4 w-4 inline align-middle opacity-25 hover:opacity-100" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                          </svg>
                        </span>
                      </span>

                      <!-- Transfer TX -->
                      <span v-if="Object.keys(network.connections).includes(getConnectionId('root', peerId))">
                        <span v-if="network.connections[getConnectionId('root', peerId)].enabled && peersPersist[getConnectionId('root', peerId)].transferTxCurrent > 0" :title="'Total Download: ' + bytes(network.connections[getConnectionId('root', peerId)].transferTx)">
                          ·
                          <svg class="align-middle h-3 inline" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path fill-rule="evenodd"
                              d="M16.707 10.293a1 1 0 010 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l4.293-4.293a1 1 0 011.414 0z"
                              clip-rule="evenodd" />
                          </svg>
                          {{peersPersist[getConnectionId('root', peerId)].transferTxCurrent | bytes}}/s
                        </span>
                      </span>

                      <!-- Transfer RX -->
                      <span v-if="Object.keys(network.connections).includes(getConnectionId('root', peerId))">
                        <span v-if="network.connections[getConnectionId('root', peerId)].enabled && peersPersist[getConnectionId('root', peerId)].transferRxCurrent > 0" :title="'Total Upload: ' + bytes(network.connections[getConnectionId('root', peerId)].transferRx)">
                          ·
                          <svg class="align-middle h-3 inline" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path fill-rule="evenodd"
                              d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z"
                              clip-rule="evenodd" />
                          </svg>
                          {{peersPersist[getConnectionId('root', peerId)].transferRxCurrent | bytes}}/s
                        </span>
                      </span>

                      <!-- Last seen -->
                      <span v-if="Object.keys(network.connections).includes(getConnectionId('root', peerId))">
                        <span v-show="network.connections[getConnectionId('root', peerId)].latestHandshakeAt"
                          :title="'Last seen at ' + new Date(network.connections[getConnectionId('root', peerId)].latestHandshakeAt)">
                          · {{new Date(network.connections[getConnectionId('root', peerId)].latestHandshakeAt) | timeago}}
                        </span>
                      </span>
                    </div>
                  </div>

                  <div class="text-right">
                    <div class="text-gray-400">

                      <!-- Enable/Disable -->
<!--                      <div @click="disablePeer(peer)" v-if="peer.enabled === true" title="Disable Peer"-->
<!--                        class="inline-block align-middle shadow-md rounded-full w-10 h-6 mr-1 bg-green-500 cursor-pointer hover:bg-green-400 transition-all">-->
<!--                        <div class="rounded-full shadow-md w-4 h-4 m-1 ml-5 bg-white"></div>-->
<!--                      </div>-->
<!--                      <div @click="enablePeer(peer)" v-if="peer.enabled === false" title="Enable Peer"-->
<!--                        class="inline-block align-middle shadow-md rounded-full w-10 h-6 mr-1 bg-red-500 cursor-pointer hover:bg-red-400 transition-all">-->
<!--                        <div class="rounded-full shadow-md w-4 h-4 m-1 bg-white"></div>-->
<!--                      </div>-->

                      <!-- Show QR-->
                      <button class="align-middle bg-gray-100 hover:bg-gray-600 hover:text-white p-2 rounded transition"
                        title="Show QR Code" @click="peerQRId = peerId; QRCode.toCanvas(document.getElementById('qr-canvas'), getPeerConf(peerQRId))" >
                        <svg class="w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                          stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z" />
                        </svg>
                      </button>

                      <!-- Download Config -->
                      <button class="align-middle bg-gray-100 hover:bg-gray-600 hover:text-white p-2 rounded transition"
                              title="Download Configuration" @click="downloadPeerConf(peerId)">
                        <svg class="w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                             stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                        </svg>
                      </button>

                      <!-- Delete -->
                      <button class="align-middle bg-gray-100 hover:bg-red-600 hover:text-white p-2 rounded transition"
                        title="Delete Peer" @click="peerDeleteId = peerId">
                        <svg class="w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                          <path fill-rule="evenodd"
                            d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"
                            clip-rule="evenodd" />
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div v-if="network.peers === null" class="text-gray-200 p-5">
              <svg class="w-5 animate-spin mx-auto" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                   fill="currentColor">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor"
                      d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                </path>
              </svg>
            </div>
            <div v-else-if="Object.keys(roamingPeers).length === 0">
              <p class="text-center m-10 text-gray-400 text-sm">There are no roaming peers yet.<br /><br />
              <button @click="peerCreateWindowHandler('init'); peerCreateMobility = 'roaming';"
                      class="enabled:hover:bg-green-700 enabled:hover:border-green-700 disabled:bg-gray-300 disabled:border-gray-300 enabled:hover:text-white text-gray-700 border-2 border-gray-100 py-2 px-4 rounded inline-flex items-center transition" :disabled="webServerStatus !== 'up'">
                <svg class="w-4 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                     stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                </svg>
                <span class="text-sm">Add a Peer</span>
              </button>
              </p>
            </div>
          </div>
        </div>

        <!-- QR Code-->
        <div v-show="peerQRId">
          <div class="bg-black bg-opacity-50 fixed top-0 right-0 left-0 bottom-0 flex items-center justify-center z-20">
            <div class="bg-white rounded-md shadow-lg relative p-8">
              <button @click="peerQRId = null" class="absolute right-4 top-4 text-gray-600 hover:text-gray-800">
                <svg class="w-8" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                  stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
              <canvas id="qr-canvas"></canvas>
            </div>
          </div>
        </div>

        <!-- Create Dialog -->
        <div v-show="peerCreateMobility" class="fixed z-10 inset-0 overflow-y-auto">
          <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <!--
        Background overlay, show/hide based on modal state.

        Entering: "ease-out duration-300"
          From: "opacity-0"
          To: "opacity-100"
        Leaving: "ease-in duration-200"
          From: "opacity-100"
          To: "opacity-0"
      -->
            <div class="fixed inset-0 transition-opacity" aria-hidden="true">
              <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
            </div>

            <!-- This element is to trick the browser into centering the modal contents. -->
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            <!--
        Modal panel, show/hide based on modal state.

        Entering: "ease-out duration-300"
          From: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
          To: "opacity-100 translate-y-0 sm:scale-100"
        Leaving: "ease-in duration-200"
          From: "opacity-100 translate-y-0 sm:scale-100"
          To: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
      -->
            <div
              class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
              role="dialog" aria-modal="true" aria-labelledby="modal-headline">
              <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                <div class="sm:flex sm:items-start">
                  <div
                    class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-green-700 sm:mx-0 sm:h-10 sm:w-10">
                    <svg class="h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none"
                      viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                    </svg>
                  </div>
                  <div class="flex-grow mt-3 text-center sm:mt-0 sm:ml-2 sm:text-left">
                    <h3 class="text-lg leading-6 font-medium text-gray-900">
                      New Peer
                    </h3>
                    <div class="mt-2">
                      <p class="text-sm text-gray-500">
                        <input class="rounded p-2 border-2 border-gray-100 focus:border-gray-200 outline-none w-full"
                               type="text" v-model.trim="peerCreateName" placeholder="Name" :class="[peerCreateNameColor]"/>
                      </p>
                    </div>
                    <div v-show="peerCreateMobility === 'static'" class="mt-2">
                      <p class="text-sm text-gray-500">
                        <input class="rounded p-2 border-2 border-gray-100 focus:border-gray-200 outline-none w-full"
                               type="text" v-model.trim="peerCreateEndpoint" placeholder="Endpoint (e.g. 1.2.3.4:51820 example.com:51820)" :class="[peerCreateEndpointColor]" />
                      </p>
                    </div>
                    <div class="mt-2">
                      <button type="button" @click="peerCreateShowAdvance = !peerCreateShowAdvance;">
                        <span class="text-sm text-gray-500 hover:underline">Advanced settings</span>
                        <span v-show="peerCreateShowAdvance === true" class="text-sm text-gray-500 hover:underline">&#x25B2;</span>
                        <span v-show="peerCreateShowAdvance === false" class="text-sm text-gray-500 hover:underline">&#x25BC;</span>
                      </button>

                      <div v-show="peerCreateShowAdvance === true" class="max-h-[18rem] w-[26rem] pr-2 overflow-auto">
                        <div class="my-2 p-1 shadow-md border rounded bg-gray-100">
                          <div class="text-gray-800">
                            Reserved address: <strong>{{ peerCreateAddress }}</strong>
                          </div>
                        </div>

                        <div class="my-2 p-1 shadow-md border rounded" :class="[peerCreateDNSMTUColor.div]">
                          <div class="text-gray-800 mb-0.5">
                            Configure DNS and MTU:
                          </div>
                          <div class="flex grid grid-cols-2 gap-2 mb-0.5">
                            <div class="truncate">
                              <div class="form-check truncate relative" :class="[peerCreateDNS.enabled !== false || peerCreateDNS.value !== '' ? 'highlight-undo-box' : '']">
                                <label>
                                  <input class="form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-1 cursor-pointer" type="checkbox" v-model="peerCreateDNS.enabled">
                                  <span class="text-gray-800 cursor-pointer text-xs">
                                    <strong class="text-sm">DNS: </strong>
                                  </span>
                                </label>
                                <input list="inputDNSListCreate" style="width: 25vw;" type="text" placeholder="click to see recommendations"
                                       class="rounded p-1 border-1 border-gray-100 focus:border-gray-200 outline-none w-full text-xs text-gray-500 grow disabled:bg-gray-100"
                                       v-model="peerCreateDNS.value"
                                       :class="[peerCreateDNSMTUColor.dnsInput]"
                                       :disabled="!peerCreateDNS.enabled"/>
                                <datalist id="inputDNSListCreate">
                                  <option :value="network.peers.root.address">
                                    Forward all DNS related traffic to {{network.peers.root.address}}
                                  </option>
                                </datalist>
                                <div class="inline-block float-right absolute z-20 right-[0.2rem] top-[0rem]">
                                  <button class="align-middle p-0.5 rounded bg-gray-100 hover:bg-gray-600 hover:text-white opacity-0 transition undo-button-itself"
                                          title="Undo Changes"
                                          :disabled="peerCreateDNS.enabled === false && peerCreateDNS.value === ''"
                                          @click="peerCreateDNS.enabled = false; peerCreateDNS.value = '';">
                                    <img class="w-4" src="https://img.icons8.com/sf-black/50/undefined/return.png"/>
                                  </button>
                                </div>
                              </div>
                            </div>
                            <div class="truncate">
                              <div class="form-check truncate relative" :class="[peerCreateMTU.enabled !== false || peerCreateMTU.value !== '' ? 'highlight-undo-box' : '']">
                                <label>
                                  <input class="form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-1 cursor-pointer" type="checkbox" v-model="peerCreateMTU.enabled">
                                  <span class="text-gray-800 cursor-pointer text-xs">
                                    <strong class="text-sm">MTU: </strong>
                                  </span>
                                </label>
                                <input list="inputMTUListCreate" style="width: 25vw;" type="text" placeholder="click to see recommendations"
                                       class="rounded p-1 border-1 border-gray-100 focus:border-gray-200 outline-none w-full text-xs text-gray-500 grow disabled:bg-gray-100"
                                       v-model="peerCreateMTU.value"
                                       :class="[peerCreateDNSMTUColor.mtuInput]"
                                       :disabled="!peerCreateMTU.enabled"/>
                                <datalist id="inputMTUListCreate">
                                  <option :value="1420">
                                    TODO
                                  </option>
                                </datalist>
                                <div class="inline-block float-right absolute z-20 right-[0.2rem] top-[0rem]">
                                  <button class="align-middle p-0.5 rounded bg-gray-100 hover:bg-gray-600 hover:text-white opacity-0 transition undo-button-itself"
                                          title="Undo Changes"
                                          :disabled="peerCreateMTU.enabled === false && peerCreateMTU.value === ''"
                                          @click="peerCreateMTU.enabled = false; peerCreateMTU.value = '';">
                                    <img class="w-4" src="https://img.icons8.com/sf-black/50/undefined/return.png"/>
                                  </button>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="p-1 shadow-md border rounded" :class="[peerCreateScriptsColor.div]">
                          <div class="text-gray-800 mb-0.5">
                            Configure Script Snippets:
                          </div>
                          <div v-for="scriptField in ['PreUp', 'PostUp', 'PreDown', 'PostDown']">
                            <div class="form-check truncate flex items-center relative mb-0.5" :class="[peerCreateScripts[scriptField].value !== '' || peerCreateScripts[scriptField].enabled === true ? 'highlight-undo-box' : '']">
                              <label class="flex-none">
                                <input class="form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-1 cursor-pointer" type="checkbox" @change="peerCreateScripts[scriptField].enabled = !peerCreateScripts[scriptField].enabled;" :checked="peerCreateScripts[scriptField].enabled">
                                <span class="text-gray-800 cursor-pointer text-xs mr-1">
                                  <strong class="text-sm">{{ scriptField }}:</strong>
                                 </span>
                              </label>
                              <input class="rounded p-1 border-1 border-gray-100 focus:border-gray-200 outline-none w-full text-xs text-gray-500 grow disabled:bg-gray-100"
                                     type="text" :placeholder="`${scriptField} Script (e.g. echo 'Hey, this is ${scriptField} Script';)`"
                                     v-model="peerCreateScripts[scriptField].value"
                                     :class="[peerCreateScriptsColor[scriptField]]"
                                     :disabled="!peerCreateScripts[scriptField].enabled"/>
                              <div class="inline-block float-right absolute z-20 right-[0.2rem] top-[-0.1rem]">
                                <button class="align-middle p-0.5 rounded bg-gray-100 hover:bg-gray-600 hover:text-white opacity-0 transition undo-button-itself"
                                        title="Undo Changes"
                                        :disabled="peerCreateScripts[scriptField].value === '' && peerCreateScripts[scriptField].enabled === false"
                                        @click="peerCreateScripts[scriptField].value = ''; peerCreateScripts[scriptField].enabled = false;">
                                  <img class="w-4" src="https://img.icons8.com/sf-black/50/undefined/return.png"/>
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div v-if="Object.keys(network.peers).length > 0"
                             class="my-2 p-1 shadow-md border rounded relative" id="attachPeersDiv" :class="[peerCreateAttachedPeersCountDivColor, JSON.stringify(peerCreateAttachedStaticPeerIds) === JSON.stringify(['root']) && peerCreateAttachedRoamingPeerIds.length === 0 ? '' : 'highlight-undo-box']">
                          <div v-if="Object.keys(staticPeers).length > 0">
                            <div class="text-gray-800">
                              Attach to these static peers:
                            </div>
                            <div class="form-check mt-1">
                              <label class="form-check-label inline-block text-gray-800 cursor-pointer text-sm">
                                <input class="form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer" type="checkbox" v-model="peerCreateStaticSelectAll">
                                <span>Select All</span>
                              </label>
                            </div>
                            <div class="flex grid grid-cols-2">
                              <div v-show="Object.keys(staticPeers).length" v-for="(peerDetails, peerId) in staticPeers"
                                   class="relative overflow-hidden">
                                <div class="form-check truncate">
                                  <label>
                                    <input class="form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer" type="checkbox" v-model="peerCreateAttachedStaticPeerIds" :value="peerId" @change="peerCreateIsConnectionEnabled[peerId] = true;">
                                    <span class="text-gray-800 cursor-pointer text-xs">
                                    <strong class="text-sm">{{ peerDetails.name }}</strong> {{ peerDetails.address }} ({{ peerId }})
                                  </span>
                                  </label>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div v-if="Object.keys(roamingPeers).length > 0">
                            <div class="text-gray-800">
                              Attach to these roaming peers:
                            </div>
                            <div class="form-check mt-1">
                              <label class="form-check-label inline-block text-gray-800 cursor-pointer text-sm">
                                <input class="form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer inline-block" type="checkbox" v-model="peerCreateRoamingSelectAll">
                                <span>Select All</span>
                              </label>
                            </div>
                            <div class="flex grid grid-cols-2">
                              <div v-show="Object.keys(roamingPeers).length" v-for="(peerDetails, peerId) in roamingPeers"
                                   class="relative overflow-hidden">
                                <div class="form-check truncate">
                                  <label>
                                    <input class="form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer" type="checkbox" v-model="peerCreateAttachedRoamingPeerIds" :value="peerId" @change="peerCreateIsConnectionEnabled[peerId] = true;">
                                    <span class="text-gray-800 cursor-pointer text-xs">
                                    <strong class="text-sm">{{ peerDetails.name }}</strong> {{ peerDetails.address }} ({{ peerId }})
                                  </span>
                                  </label>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="inline-block float-right absolute z-20 right-[0.2rem] top-[0rem]">
                            <button class="align-middle p-0.5 rounded bg-gray-100 hover:bg-gray-600 hover:text-white opacity-0 transition undo-button-itself"
                                    title="Undo Changes"
                                    :disabled="JSON.stringify(peerCreateAttachedStaticPeerIds) === JSON.stringify(['root']) && peerCreateAttachedRoamingPeerIds.length === 0"
                                    @click="peerCreateAttachedStaticPeerIds = ['root']; peerCreateAttachedRoamingPeerIds = []">
                              <img class="w-4" src="https://img.icons8.com/sf-black/50/undefined/return.png"/>
                            </button>
                          </div>
                        </div>

                        <div v-if="Object.keys(staticPeers).length + Object.keys(roamingPeers).length" v-for="(peerDetails, peerId) in Object.assign({}, staticPeers, roamingPeers)" class="relative">
                          <div v-if="peerCreateAttachedStaticPeerIds.includes(peerId) || peerCreateAttachedRoamingPeerIds.includes(peerId)" class="my-2 p-1 shadow-md border rounded bg-blue-50 overflow-x-auto whitespace-nowrap highlight-remove-box" :class="[peerCreateConnectionColor.attachedPeerDiv[peerId], peerCreateResetConnectionFieldsDisabled[peerId] ? '' : 'highlight-undo-box']">
                            <div class="inline-block float-right absolute z-20 right-[0.5rem] top-[0.25rem]">
                              <button class="align-middle p-0.5 rounded bg-gray-100 hover:bg-red-600 hover:text-white opacity-0 transition remove-button-itself"
                                      title="Remove Connection" @click="peerCreateAttachedStaticPeerIds.includes(peerId) ? peerCreateAttachedStaticPeerIds.splice(peerCreateAttachedStaticPeerIds.indexOf(peerId), 1) : peerCreateAttachedRoamingPeerIds.splice(peerCreateAttachedRoamingPeerIds.indexOf(peerId), 1)">
                                <svg class="w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                  <path fill-rule="evenodd"
                                        d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"
                                        clip-rule="evenodd" />
                                </svg>
                              </button>
                            </div>
                            <div class="inline-block float-right absolute z-20 right-[2.25rem] top-[0.25rem]">
                              <button class="align-middle p-0.5 rounded bg-gray-100 hover:bg-gray-600 hover:text-white opacity-0 transition undo-button-itself"
                                      title="Undo Changes"
                                      @click="peerCreateResetConnectionFields(peerId)"
                                      :disabled="peerCreateResetConnectionFieldsDisabled[peerId]">
                                <img class="w-4" src="https://img.icons8.com/sf-black/50/undefined/return.png"/>
                              </button>
                            </div>
                            <div class=" ml-1">
                              <div class="form-check">
                                <label class="form-check-label inline-block text-gray-800 cursor-pointer text-sm">
                                  <input class="form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer" type="checkbox"  v-model="peerCreateIsConnectionEnabled[peerId]" @change="peerCreateConnectionColorRefresh += 1;">
                                  <span class="text-gray-800 text-xs">
                                    <strong class="text-sm">{{ peerDetails.name }}</strong>
                                    {{ peerDetails.address }}
                                    ({{ peerId }})
                                  </span>
                                </label>
                              </div>
                            </div>
                            <div v-show="peerCreateIsConnectionEnabled[peerId]">
                              <div class="relative text-gray-800 text-xs mx-6">
                                <div class="text-xs flex items-center">
                                  <label class="flex items-center">
                                    <input class="form-check-input appearance-none h-3 w-3 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 bg-no-repeat bg-center bg-contain float-left mr-1 cursor-pointer inline-block" type="checkbox" v-model="peerCreatePersistentKeepaliveEnabledData[peerId]" @change="peerCreateConnectionColorRefresh += 1">
                                    <span class="text-gray-800 cursor-pointer text-xs mr-1">
                                    <strong>Persistent Keepalive:</strong>
                                  </span>
                                  </label>
                                  <input class="text-gray-800 text-xs mr-1 mt-1 rounded-md pl-1 inline-block" v-model="peerCreatePersistentKeepaliveValueData[peerId]" type="string" :disabled="!peerCreatePersistentKeepaliveEnabledData[peerId]" :class="[peerCreatePersistentKeepaliveEnabledData[peerId] ? peerCreateAssignedColor.connections.persistentKeepalive[peerId] : 'bg-gray-100']" @change="peerCreateConnectionColorRefresh += 1" @keyup="peerCreateConnectionColorRefresh += 1">
                                </div>
                                <div class="mt-1 flex">
                                  <span class="flex-none"><strong>{{ peerCreateName }}</strong> will forward IP subnet(s)</span>
                                  <input class="text-gray-800 text-xs mx-1 rounded-md px-1 grow" :id="`peerCreateData.${peerId}.allowedIPsNewToOld`" v-model="peerCreateAllowedIPsNewToOld[peerId]" :class="[peerCreateConnectionColor.allowedIPsNewToOld[peerId]]" @change="peerCreateConnectionColorRefresh += 1;" @keyup="peerCreateConnectionColorRefresh += 1;">
                                  <datalist :id="`${peerId}_ip_subnets_new_to_old`">
                                    <option :value="network.peers[peerId].address + '/32'">
                                      Forward all {{network.peers[peerId].address}} related traffic to {{network.peers[peerId].address}}
                                    </option>
                                    <option :value="network.peers[peerId].address.slice(0, -1) + '0/24'">
                                      Forward all {{network.peers[peerId].address.slice(0, -1) + '0-255'}} related traffic to {{network.peers[peerId].address}}
                                    </option>
                                    <option value="0.0.0.0/0">
                                      Forward all IPv4 traffic to {{network.peers[peerId].address}}
                                    </option>
                                  </datalist>
                                  <span class="flex-none pr-2"> to <strong>{{ network.peers[peerId].name }}</strong></span>
                                </div>
                                <div class="mt-1 flex">
                                  <span class="flex-none"><strong>{{ network.peers[peerId].name }}</strong> will forward IP subnet(s)</span>
                                  <input class="text-gray-800 text-xs mx-1 rounded-md px-1 grow" :id="`peerCreateData.${peerId}.allowedIPsOldToNew`" v-model="peerCreateAllowedIPsOldToNew[peerId]" :class="[peerCreateConnectionColor.allowedIPsOldToNew[peerId]]" @change="peerCreateConnectionColorRefresh += 1;" @keyup="peerCreateConnectionColorRefresh += 1;">
                                  <datalist :id="`${peerId}_ip_subnets_old_to_new`">
                                    <option :value="network.peers[peerId].address + '/32'">
                                      Forward all {{network.peers[peerId].address}} related traffic to {{network.peers[peerId].address}}
                                    </option>
                                    <option :value="network.peers[peerId].address.slice(0, -1) + '0/24'">
                                      Forward all {{network.peers[peerId].address.slice(0, -1) + '0-255'}} related traffic to {{network.peers[peerId].address}}
                                    </option>
                                    <option value="0.0.0.0/0">
                                      Forward all IPv4 traffic to {{network.peers[peerId].address}}
                                    </option>
                                  </datalist>
                                  <span class="flex-none pr-2"> to <strong>{{ peerCreateName }}</strong></span>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                  <button type="button" @click="createPeer(peerCreateMobility); peerCreateMobility = ''"
                          :disabled="!peerCreateEligibilityOverall"
                          class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-700 text-base font-medium text-white sm:ml-3 sm:w-auto sm:text-sm enabled:bg-green-700 enabled:hover:bg-green-800 enabled:focus:outline-none bg-gray-200 disabled:cursor-not-allowed">
                    Create
                  </button>
                  <button type="button" @click="peerCreateMobility = ''; peerCreateWindowHandler('delete-preamble').then()"
                    class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                    Cancel
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>


        <!-- WireGuard Dialog -->
        <div v-if="peerCreateNoAddress" class="fixed z-10 inset-0 overflow-y-auto">
          <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <!--
        Background overlay, show/hide based on modal state.

        Entering: "ease-out duration-300"
          From: "opacity-0"
          To: "opacity-100"
        Leaving: "ease-in duration-200"
          From: "opacity-100"
          To: "opacity-0"
      -->
            <div class="fixed inset-0 transition-opacity" aria-hidden="true">
              <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
            </div>

            <!-- This element is to trick the browser into centering the modal contents. -->
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            <!--
        Modal panel, show/hide based on modal state.

        Entering: "ease-out duration-300"
          From: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
          To: "opacity-100 translate-y-0 sm:scale-100"
        Leaving: "ease-in duration-200"
          From: "opacity-100 translate-y-0 sm:scale-100"
          To: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
      -->
            <div
                    class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
                    role="dialog" aria-modal="true" aria-labelledby="modal-headline">
              <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                <div class="sm:flex sm:items-start">
                  <div
                          class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10">
                    <!-- Heroicon name: outline/exclamation -->
                    <svg class="h-6 w-6 text-red-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                         stroke="currentColor" aria-hidden="true">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                    </svg>
                  </div>
                  <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                    <h3 class="text-lg leading-6 font-medium text-gray-900">
                      Error while preparing peer creation window
                    </h3>
                    <div class="mt-2">
                      <p class="text-sm text-gray-500">
                        There are no addresses left to be reserved. A new peer can't be created until the reserved addresses pool is reset, or you have reached the peer limit.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                <button type="button" @click="peerCreateNoAddress = false"
                        class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>


        <!-- Delete Dialog -->
        <div v-if="peerDeleteId" class="fixed z-10 inset-0 overflow-y-auto">
          <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <!--
        Background overlay, show/hide based on modal state.

        Entering: "ease-out duration-300"
          From: "opacity-0"
          To: "opacity-100"
        Leaving: "ease-in duration-200"
          From: "opacity-100"
          To: "opacity-0"
      -->
            <div class="fixed inset-0 transition-opacity" aria-hidden="true">
              <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
            </div>

            <!-- This element is to trick the browser into centering the modal contents. -->
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            <!--
        Modal panel, show/hide based on modal state.

        Entering: "ease-out duration-300"
          From: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
          To: "opacity-100 translate-y-0 sm:scale-100"
        Leaving: "ease-in duration-200"
          From: "opacity-100 translate-y-0 sm:scale-100"
          To: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
      -->
            <div
              class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
              role="dialog" aria-modal="true" aria-labelledby="modal-headline">
              <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                <div class="sm:flex sm:items-start">
                  <div
                    class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10">
                    <!-- Heroicon name: outline/exclamation -->
                    <svg class="h-6 w-6 text-red-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                      stroke="currentColor" aria-hidden="true">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                    </svg>
                  </div>
                  <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                    <h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-headline">
                      Delete Peer
                    </h3>
                    <div class="mt-2">
                      <p class="text-sm text-gray-500">
                        Are you sure you want to delete <strong>{{network.peers[peerDeleteId].name}}</strong>?
                        This action cannot be undone.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                <button type="button" @click="deletePeer(peerDeleteId); peerDeleteId = null"
                  class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm">
                  Delete
                </button>
                <button type="button" @click="peerDeleteId = null"
                  class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>




        <!-- Configuration Dialog -->
        <div v-if="peerConfigId" class="fixed z-10 inset-0 overflow-y-auto">
          <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 transition-opacity" aria-hidden="true">
              <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
            </div>

            <!-- This element is to trick the browser into centering the modal contents. -->
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
                 role="dialog" aria-modal="true" aria-labelledby="modal-headline">
              <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                <div class="sm:flex sm:items-start sm:mt-0 sm:mx-4">

                  <div class="mt-3 text-center sm:text-left w-full">
                    <div class="flex justify-between items-center">
                      <h3 class="text-lg leading-6 font-medium text-gray-900 inline" id="modal-headline">
                        Configuration for <strong>{{network.peers[peerConfigId].name}}</strong>:
                      </h3>
                      <span class="order-last">
                        <button v-show="peerConfigWindow === 'edit'" class="align-middle bg-gray-100 hover:enabled:bg-gray-600 hover:enabled:text-white disabled:text-blue-100 disabled:bg-gray-50 p-2 rounded transition special-fill"
                                title="See the configuration differences for this peer" @click="peerConfigEditUpdateConfirmation().then(); peerConfigWindow = 'view-changes'" :disabled="Object.keys(peerEditChangedFieldsCompute[0]).length + Object.keys(peerEditChangedFieldsCompute[1]).length + Object.keys(peerEditChangedFieldsCompute[2]).length === 0">
                          <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="20px" height="20px" viewBox="0 0 122.742 122.881" xml:space="preserve">
                            <g>
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="0"
                                    d="M5.709,23.974h47.709V5.691c0-1.581,0.643-3.015,1.679-4.05C56.108,0.629,57.492,0,59,0h58.163 c1.508,0,2.891,0.628,3.902,1.641c1.035,1.036,1.678,2.469,1.678,4.05v87.524c0,1.582-0.643,3.016-1.678,4.051 c-1.012,1.012-2.395,1.641-3.902,1.641H69.453v18.283c0,1.582-0.645,3.016-1.68,4.051c-1.012,1.012-2.395,1.641-3.902,1.641H5.709 c-1.509,0-2.891-0.629-3.903-1.641c-1.036-1.035-1.679-2.469-1.679-4.051V74.389C0.044,74.082,0,73.76,0,73.428 c0-0.334,0.044-0.656,0.127-0.963V29.666c0-1.582,0.643-3.016,1.679-4.051C2.818,24.603,4.2,23.974,5.709,23.974L5.709,23.974z M94.113,29.137c1.395-1.468,3.717-1.525,5.184-0.129c1.469,1.396,1.525,3.718,0.129,5.185L88.514,45.609h27.131V7.319H60.517 v16.655h3.354c1.508,0,2.891,0.628,3.902,1.641c1.035,1.035,1.68,2.469,1.68,4.051v61.922h46.191V52.963h-27.15l10.932,11.476 c1.396,1.469,1.34,3.789-0.129,5.186c-1.467,1.396-3.789,1.338-5.184-0.129L77.27,51.815c-1.34-1.407-1.354-3.634,0-5.057 L94.113,29.137L94.113,29.137z M22.943,58.333c-1.396-1.468-1.338-3.789,0.129-5.185c1.468-1.396,3.789-1.338,5.185,0.129 L45.1,70.898c1.354,1.424,1.34,3.65-0.001,5.057L28.257,93.637c-1.396,1.467-3.717,1.525-5.185,0.129 c-1.467-1.395-1.525-3.717-0.129-5.184l10.932-11.479H7.227v38.459h55.127v-84.27H7.227V69.75h26.628L22.943,58.333L22.943,58.333z"/>
                            </g>
                          </svg>
                        </button>
                        <button v-show="peerConfigWindow === 'file' || peerConfigWindow === 'view-changes'" class="align-middle bg-gray-100 hover:bg-gray-600 hover:text-white p-2 rounded transition special-fill-edit"
                                title="Edit the configuration for this peer" @click="peerConfigWindow = 'edit'">
                          <svg xmlns="http://www.w3.org/2000/svg"
                               class="w-5" fill="none" viewBox="0 0 24 24"
                               stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                          </svg>
                        </button>
                        <button v-show="peerConfigWindow === 'edit'" class="align-middle bg-gray-100 hover:bg-gray-600 hover:text-white p-2 rounded transition special-fill"
                                title="See the configuration file for this peer" @click="peerConfigWindow = 'file'">
                          <svg xmlns="http://www.w3.org/2000/svg"
                               class="w-5" fill="none" viewBox="0 0 24 24"
                               stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="0"
                                  d="M 6 2 C 4.9057453 2 4 2.9057453 4 4 L 4 20 C 4 21.094255 4.9057453 22 6 22 L 18 22 C 19.094255 22 20 21.094255 20 20 L 20 8 L 14 2 L 6 2 z M 6 4 L 13 4 L 13 9 L 18 9 L 18 20 L 6 20 L 6 4 z M 8 12 L 8 14 L 16 14 L 16 12 L 8 12 z M 8 16 L 8 18 L 16 18 L 16 16 L 8 16 z"/>
                          </svg>
                        </button>
                      </span>
                    </div>

                     <!-- show config -->
                    <div v-show="peerConfigWindow === 'file'" class="mt-2 w-full overflow-scroll h-96">
                      <span class="text-sm text-gray-500 whitespace-pre">{{ getPeerConf(peerConfigId) }}</span>
                    </div>

                    <!-- edit config -->
                    <div v-show="peerConfigWindow === 'edit'" class="mt-2 w-full overflow-auto h-96">

                      <div class="m-2 p-1 shadow-md border rounded" :class="[peerEditConfigColor]">
                        <div class="my-0.5 truncate flex items-center relative" :class="[peerEditNameColor !== 'bg-white' ? 'highlight-undo-box' : '']">
                          <span class="text-gray-800 text-xs mr-1">
                            <strong class="text-sm">Name:</strong>
                          </span>
                          <input class="rounded p-1 border-1 border-gray-100 focus:border-gray-200 outline-none w-full text-xs text-gray-500 grow"
                                 type="text" placeholder="Name"
                                 v-model="peerEditName" :class="[peerEditNameColor]"/>
                          <div class="inline-block float-right absolute z-20 right-[0.2rem] top-[-0.1rem]">
                            <button class="align-middle p-0.5 rounded bg-gray-100 hover:bg-gray-600 hover:text-white opacity-0 transition undo-button-itself"
                                    title="Undo Changes"
                                    :disabled="peerEditNameColor === 'bg-white'"
                                    @click="peerEditName = network.peers[peerConfigId].name">
                              <img class="w-4" src="https://img.icons8.com/sf-black/50/undefined/return.png"/>
                            </button>
                          </div>
                        </div>

                        <div class="mb-0.5 truncate flex items-center relative" :class="[peerEditAddressColor !== 'bg-white' ? 'highlight-undo-box' : '']">
                          <span class="text-gray-800 text-xs mr-1">
                            <strong class="text-sm">Address:</strong>
                          </span>
                          <input class="rounded p-1 border-1 border-gray-100 focus:border-gray-200 outline-none w-full text-xs text-gray-500 grow"
                                 type="text" :placeholder="`Address (e.g. ${WireGuardHelper.getNextAvailableAddress(network)})`"
                                 v-model="peerEditAddress" :class="[peerEditAddressColor]"/>
                          <div class="inline-block float-right absolute z-20 right-[0.2rem] top-[-0.1rem]">
                            <button class="align-middle p-0.5 rounded bg-gray-100 hover:bg-gray-600 hover:text-white opacity-0 transition undo-button-itself"
                                    title="Undo Changes"
                                    :disabled="peerEditAddressColor === 'bg-white'"
                                    @click="peerEditAddress = network.peers[peerConfigId].address">
                              <img class="w-4" src="https://img.icons8.com/sf-black/50/undefined/return.png"/>
                            </button>
                          </div>
                        </div>

                        <div class="form-check truncate flex items-center relative" :class="[peerEditEndpoint !== network.peers[peerConfigId].endpoint || peerEditMobility !== network.peers[peerConfigId].mobility ? 'highlight-undo-box' : '']">
                          <label class="flex-none">
                            <input class="form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-1 cursor-pointer" type="checkbox" @change="peerEditMobility = peerEditMobility === 'static' ? 'roaming' : 'static';" :checked="peerEditMobility === 'static'">
                            <span class="text-gray-800 cursor-pointer text-xs mr-1">
                              <strong class="text-sm">Static Endpoint:</strong>
                          </span>
                          </label>
                          <input class="rounded p-1 border-1 border-gray-100 focus:border-gray-200 outline-none w-full text-xs text-gray-500 grow"
                                 type="text" placeholder="Endpoint (e.g. 1.2.3.4:51820 example.com:51820)"
                                 v-model="peerEditEndpoint"
                                 :class="[peerEditEndpointColor]"
                                 :disabled="peerEditMobility !== 'static'"/>
                          <div class="inline-block float-right absolute z-20 right-[0.2rem] top-[-0.1rem]">
                            <button class="align-middle p-0.5 rounded bg-gray-100 hover:bg-gray-600 hover:text-white opacity-0 transition undo-button-itself"
                                    title="Undo Changes"
                                    :disabled="peerEditEndpoint === network.peers[peerConfigId].endpoint && peerEditMobility === network.peers[peerConfigId].mobility"
                                    @click="peerEditEndpoint = network.peers[peerConfigId].endpoint; peerEditMobility = network.peers[peerConfigId].mobility;">
                              <img class="w-4" src="https://img.icons8.com/sf-black/50/undefined/return.png"/>
                            </button>
                          </div>
                        </div>
                      </div>

                      <div class="m-2 p-1 shadow-md border rounded" :class="[peerEditDNSMTUColor.div]">
                        <div class="text-gray-800 mb-0.5">
                          Configure DNS and MTU:
                        </div>
                        <div class="flex grid grid-cols-2 gap-2 mb-0.5">
                          <div class="truncate">
                            <div class="form-check truncate relative" :class="[peerEditDNS.enabled !== network.peers[peerConfigId].dns.enabled || peerEditDNS.value !== network.peers[peerConfigId].dns.value ? 'highlight-undo-box' : '']">
                              <label>
                                <input class="form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-1 cursor-pointer" type="checkbox" v-model="peerEditDNS.enabled">
                                <span class="text-gray-800 cursor-pointer text-xs">
                                    <strong class="text-sm">DNS: </strong>
                                  </span>
                              </label>
                              <input list="inputDNSListEdit" style="width: 25vw;" type="text" placeholder="click to see recommendations"
                                     class="rounded p-1 border-1 border-gray-100 focus:border-gray-200 outline-none w-full text-xs text-gray-500 grow disabled:bg-gray-100"
                                     v-model="peerEditDNS.value"
                                     :class="[peerEditDNSMTUColor.dnsInput]"
                                     :disabled="!peerEditDNS.enabled"/>
                              <datalist id="inputDNSListEdit">
                                <option :value="network.peers.root.address">
                                  Forward all DNS related traffic to {{network.peers.root.address}}
                                </option>
                              </datalist>
                              <div class="inline-block float-right absolute z-20 right-[0.2rem] top-[0rem]">
                                <button class="align-middle p-0.5 rounded bg-gray-100 hover:bg-gray-600 hover:text-white opacity-0 transition undo-button-itself"
                                        title="Undo Changes"
                                        :disabled="peerEditDNS.enabled === network.peers[peerConfigId].dns.enabled && peerEditDNS.value === network.peers[peerConfigId].dns.value"
                                        @click="peerEditDNS.enabled = network.peers[peerConfigId].dns.enabled; peerEditDNS.value = network.peers[peerConfigId].dns.value;">
                                  <img class="w-4" src="https://img.icons8.com/sf-black/50/undefined/return.png"/>
                                </button>
                              </div>
                            </div>
                          </div>
                          <div class="truncate">
                            <div class="form-check truncate relative" :class="[peerEditMTU.enabled !== network.peers[peerConfigId].mtu.enabled || peerEditMTU.value !== network.peers[peerConfigId].mtu.value ? 'highlight-undo-box' : '']">
                              <label>
                                <input class="form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-1 cursor-pointer" type="checkbox" v-model="peerEditMTU.enabled">
                                <span class="text-gray-800 cursor-pointer text-xs">
                                    <strong class="text-sm">MTU: </strong>
                                  </span>
                              </label>
                              <input list="inputMTUListEdit" style="width: 25vw;" type="text" placeholder="click to see recommendations"
                                     class="rounded p-1 border-1 border-gray-100 focus:border-gray-200 outline-none w-full text-xs text-gray-500 grow disabled:bg-gray-100"
                                     v-model="peerEditMTU.value"
                                     :class="[peerEditDNSMTUColor.mtuInput]"
                                     :disabled="!peerEditMTU.enabled"/>
                              <datalist id="inputMTUListEdit">
                                <option :value="1420">
                                  TODO
                                </option>
                              </datalist>
                              <div class="inline-block float-right absolute z-20 right-[0.2rem] top-[0rem]">
                                <button class="align-middle p-0.5 rounded bg-gray-100 hover:bg-gray-600 hover:text-white opacity-0 transition undo-button-itself"
                                        title="Undo Changes"
                                        :disabled="peerEditMTU.enabled === network.peers[peerConfigId].mtu.enabled && peerEditMTU.value === network.peers[peerConfigId].mtu.value"
                                        @click="peerEditMTU.enabled = network.peers[peerConfigId].mtu.enabled; peerEditMTU.value = network.peers[peerConfigId].mtu.value;">
                                  <img class="w-4" src="https://img.icons8.com/sf-black/50/undefined/return.png"/>
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class=" m-2 p-1 shadow-md border rounded" :class="[peerEditScriptsColor.div]">
                        <div class="text-gray-800 mb-0.5">
                          Configure Script Snippets:
                        </div>
                        <div v-for="scriptField in ['PreUp', 'PostUp', 'PreDown', 'PostDown']">
                          <div class="form-check truncate flex items-center relative mb-0.5" :class="[peerEditScripts[scriptField].value !== network.peers[peerConfigId].scripts[scriptField].value || peerEditScripts[scriptField].enabled !== network.peers[peerConfigId].scripts[scriptField].enabled ? 'highlight-undo-box' : '']">
                            <label class="flex-none">
                              <input class="form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-1 cursor-pointer" type="checkbox" @change="peerEditScripts[scriptField].enabled = !peerEditScripts[scriptField].enabled;" :checked="peerEditScripts[scriptField].enabled">
                              <span class="text-gray-800 cursor-pointer text-xs mr-1">
                                  <strong class="text-sm">{{ scriptField }}:</strong>
                                 </span>
                            </label>
                            <input class="rounded p-1 border-1 border-gray-100 focus:border-gray-200 outline-none w-full text-xs text-gray-500 grow disabled:bg-gray-100"
                                   type="text" :placeholder="`${scriptField} Script (e.g. echo 'Hey, this is ${scriptField} Script';)`"
                                   v-model="peerEditScripts[scriptField].value"
                                   :class="[peerEditScriptsColor[scriptField]]"
                                   :disabled="!peerEditScripts[scriptField].enabled"/>
                            <div class="inline-block float-right absolute z-20 right-[0.2rem] top-[-0.1rem]">
                              <button class="align-middle p-0.5 rounded bg-gray-100 hover:bg-gray-600 hover:text-white opacity-0 transition undo-button-itself"
                                      title="Undo Changes"
                                      :disabled="peerEditScripts[scriptField].value === network.peers[peerConfigId].scripts[scriptField].value && peerEditScripts[scriptField].enabled === network.peers[peerConfigId].scripts[scriptField].enabled"
                                      @click="peerEditScripts[scriptField].value = network.peers[peerConfigId].scripts[scriptField].value; peerEditScripts[scriptField].enabled = network.peers[peerConfigId].scripts[scriptField].enabled;">
                                <img class="w-4" src="https://img.icons8.com/sf-black/50/undefined/return.png"/>
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="m-2 p-1 shadow-md border rounded bg-green-50 overflow-x-auto">
                        <div v-for="peerConfigKey in ['publicKey', 'privateKey', 'createdAt', 'updatedAt']"
                             class="relative">
                          <div class="flex grid grid-cols-10 text-sm">
                            <div class="col-span-2">
                              <span class="text-gray-800">
                                  <strong>{{ peerConfigKey }}</strong>
                              </span>
                            </div>
                            <div class="col-span-8 text-sm whitespace-nowrap">
                              <span class="text-gray-800 text-xs">:</span>
                              <span v-if="['createdAt', 'updatedAt'].includes(peerConfigKey)" class="text-gray-800 text-xs mx-1 pr-4">{{ new Date(network.peers[peerConfigId][peerConfigKey]).toString() }}</span>
                              <span v-else class="text-gray-800 text-xs mx-1 pr-4">{{ network.peers[peerConfigId][peerConfigKey] }}</span>
                            </div>
                          </div>
                        </div>
                      </div>

                      <!-- Peer's connections edit -->
                      <div v-if="peerEditAttachablePeerIds.staticPeers.length > 0 || peerEditAttachablePeerIds.roamingPeers.length > 0" class="m-2 p-1 shadow-md border rounded relative" :class="[peerEditAttachedPeersCountDivColor, Object.keys(this.peerEditChangedFieldsCompute[1]).length + Object.keys(this.peerEditChangedFieldsCompute[2]).length === 0 ? '' : 'highlight-undo-box']">
                        <div v-if="peerEditAttachablePeerIds.staticPeers.length > 0">
                          <div class="text-gray-800">
                            Attached static peers:
                          </div>
                          <div class="form-check">
                            <label class="form-check-label inline-block text-gray-800 cursor-pointer text-sm">
                              <input class="form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer" type="checkbox" v-model="peerEditStaticSelectAll" @change="peerEditWindowHandler('init-connections')">
                              <span>Select All</span>
                            </label>
                          </div>
                          <div class="flex grid grid-cols-2">
                            <div v-for="peerId in peerEditAttachablePeerIds.staticPeers"
                                 class="relative overflow-hidden">
                              <div class="form-check truncate">
                                <label>
                                  <input class="form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer" type="checkbox" v-model="peerEditStaticConnectionIds" :value="WireGuardHelper.getConnectionId(peerConfigId, peerId)" @change="peerEditWindowHandler('init-connection', {peerId: peerId})">
                                  <span class="text-gray-800 cursor-pointer text-xs">
                                    <strong class="text-sm">{{ network.peers[peerId].name }}</strong> {{ network.peers[peerId].address }} ({{ peerId }})
                                  </span>
                                </label>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div v-if="peerEditAttachablePeerIds.roamingPeers.length > 0">
                          <div class="text-gray-800">
                            Attached roaming peers:
                          </div>
                          <div class="form-check">
                            <label class="form-check-label inline-block text-gray-800 cursor-pointer text-sm">
                              <input class="form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer" type="checkbox" v-model="peerEditRoamingSelectAll" @change="peerEditWindowHandler('init-connections')">
                              <span>Select All</span>
                            </label>
                          </div>
                          <div class="flex grid grid-cols-2">
                            <div v-for="peerId in peerEditAttachablePeerIds.roamingPeers"
                                 class="relative overflow-hidden">
                              <div class="form-check truncate">
                                <label>
                                  <input class="form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer" type="checkbox" v-model="peerEditRoamingConnectionIds" :value="WireGuardHelper.getConnectionId(peerConfigId, peerId)" @change="peerEditWindowHandler('init-connection', {peerId: peerId})">
                                  <span class="text-gray-800 cursor-pointer text-xs">
                                    <strong class="text-sm">{{ network.peers[peerId].name }}</strong> {{ network.peers[peerId].address }} ({{ peerId }})
                                  </span>
                                </label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="inline-block float-right absolute z-20 right-[0.2rem] top-[0rem]">
                          <button class="align-middle p-0.5 rounded bg-gray-100 hover:bg-gray-600 hover:text-white opacity-0 transition undo-button-itself"
                                  title="Undo Changes"
                                  :disabled="Object.keys(this.peerEditChangedFieldsCompute[1]).length + Object.keys(this.peerEditChangedFieldsCompute[2]).length === 0"
                                  @click="peerEditStaticConnectionIds = Object.keys(network.connections).filter(connectionId => connectionId.includes(peerConfigId)); peerEditRoamingConnectionIds = Object.keys(network.connections).filter(connectionId => connectionId.includes(peerConfigId));">
                            <img class="w-4" src="https://img.icons8.com/sf-black/50/undefined/return.png"/>
                          </button>
                        </div>
                      </div>

                      <!-- Peer's connections in boxes -->
                      <div v-for="connectionId in peerEditConnectionIds" class="relative highlight-remove-box" :class="[!peerEditResetConnectionFieldsDisabled[connectionId] ? 'highlight-undo-box' : '']">
                        <div class="inline-block float-right absolute z-20 right-[1rem] top-[0.25rem]">
                          <button class="align-middle p-0.5 rounded bg-gray-100 hover:bg-red-600 hover:text-white opacity-0 transition remove-button-itself"
                                  title="Remove Connection"
                                  @click="peerEditStaticConnectionIds.includes(connectionId) ? peerEditStaticConnectionIds.splice(peerEditStaticConnectionIds.indexOf(connectionId), 1) : peerEditRoamingConnectionIds.splice(peerEditRoamingConnectionIds.indexOf(connectionId), 1)">
                            <svg class="w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                              <path fill-rule="evenodd"
                                    d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"
                                    clip-rule="evenodd" />
                            </svg>
                          </button>
                        </div>
                        <div class="inline-block float-right absolute z-20 right-[2.75rem] top-[0.25rem]">
                          <button class="align-middle p-0.5 rounded bg-gray-100 hover:bg-gray-600 hover:text-white opacity-0 transition undo-button-itself"
                                  title="Undo Changes"
                                  @click="peerEditResetConnectionFields(connectionId)"
                                  :disabled="Object.keys(peerEditResetConnectionFieldsDisabled).includes(connectionId) ? peerEditResetConnectionFieldsDisabled[connectionId] : true">
                            <img class="w-4" src="https://img.icons8.com/sf-black/50/undefined/return.png"/>
                          </button>
                        </div>
                        <div class="m-2 p-1 shadow-md border rounded bg-blue-50 overflow-x-auto whitespace-nowrap relative" :class="[peerEditConnectionColor.div[connectionId]]">
                          <div class=" ml-1">
                            <div class="flex">
                              <div class="form-check inline-block grow truncate">
                                <label class="form-check-label inline-block text-gray-800 cursor-pointer text-sm">
                                  <input class="form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer" type="checkbox" v-model.lazy="peerEditIsConnectionEnabled[connectionId]" @change="peerEditConnectionColorRefresh += 1">
                                  <span class="text-gray-800 text-xs">
                                  <strong class="text-sm">{{ network.peers[connectionId.replace(peerConfigId, "").replace("*", "")].name }}</strong>
                                  {{ network.peers[connectionId.replace(peerConfigId, "").replace("*", "")].address }}
                                  ({{ connectionId.replace(peerConfigId, "").replace("*", "") }})
                                </span>
                                </label>
                              </div>
                            </div>
                          </div>
                          <div v-show="peerEditIsConnectionEnabled[connectionId]">
                            <div v-if="Object.keys(network.connections).includes(connectionId)" v-for="connectionKey in ['preSharedKey', 'latestHandshakeAt']">
                              <div class="flex grid grid-cols-3 gap-1 text-xs mx-6">
                                <div class="col-span-1 text-xs">
                                  <span class="text-gray-800 align-middle">
                                      <strong class="">{{ connectionKey }}</strong>:
                                  </span>
                                </div>
                                <div class="col-span-2 text-xs">
                                  <span class="text-gray-800 text-xs pr-1 align-middle">
                                    {{ network.connections[connectionId][connectionKey] }}
                                  </span>
                                </div>
                              </div>
                            </div>
                            <div class="text-xs mx-6 flex items-center">
                              <label class=" flex items-center">
                                <input class="form-check-input appearance-none h-3 w-3 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 align-top bg-no-repeat bg-center bg-contain float-left mr-1 cursor-pointer inline-block" type="checkbox" v-model="peerEditPersistentKeepaliveEnabledData[connectionId]" @change="peerEditConnectionColorRefresh += 1">
                                <span class="text-gray-800 cursor-pointer text-xs mr-1">
                                  <strong>Persistent Keepalive:</strong>
                                </span>
                              </label>
                              <input class="text-gray-800 text-xs mr-1 rounded-md pl-1 inline-block" v-model="peerEditPersistentKeepaliveValueData[connectionId]" type="string" :disabled="!peerEditPersistentKeepaliveEnabledData[connectionId]" :class="[peerEditPersistentKeepaliveEnabledData[connectionId] ? peerEditConnectionColor.persistentKeepalive[connectionId] : 'bg-gray-100']" @change="peerEditConnectionColorRefresh += 1" @keyup="peerEditConnectionColorRefresh += 1">
                            </div>
                            <div class="relative text-gray-800 text-xs mx-6">
                              <div class="mt-1 flex items-center">
                                <span class="flex-none"><strong>{{ network.peers[peerConfigId].name }}</strong> will forward IP subnet(s)</span>
                                <input v-if="connectionId.startsWith(peerConfigId)" class="text-gray-800 text-xs mx-1 rounded-md px-1 grow" v-model="peerEditAllowedIPsAtoB[connectionId]" :id="`peerConfigEditData.${connectionId}.allowedIPsAtoB`" :class="[peerEditConnectionColor.allowedIPsAtoB[connectionId]]" @change="peerEditConnectionColorRefresh += 1" @keyup="peerEditConnectionColorRefresh += 1">
                                <input v-else class="text-gray-800 text-xs mx-1 rounded-md px-1 grow" v-model="peerEditAllowedIPsBtoA[connectionId]" :id="`peerConfigEditData.${connectionId}.allowedIPsBtoA`" :class="[peerEditConnectionColor.allowedIPsBtoA[connectionId]]" @change="peerEditConnectionColorRefresh += 1" @keyup="peerEditConnectionColorRefresh += 1">
                                <span class="flex-none pr-2"> to <strong>{{ network.peers[connectionId.replace(peerConfigId, "").replace("*", "")].name }}</strong></span>
                              </div>
                              <div class="mt-1 flex">
                                <span class="flex-none"><strong>{{ network.peers[connectionId.replace(peerConfigId, "").replace("*", "")].name }}</strong> will forward IP subnet(s)</span>
                                <input v-if="!connectionId.startsWith(peerConfigId)" class="text-gray-800 text-xs mx-1 rounded-md px-1 grow" v-model="peerEditAllowedIPsAtoB[connectionId]" :id="`peerConfigEditData.${connectionId}.allowedIPsAtoB`" :class="[peerEditConnectionColor.allowedIPsAtoB[connectionId]]" @change="peerEditConnectionColorRefresh += 1" @keyup="peerEditConnectionColorRefresh += 1">
                                <input v-else class="text-gray-800 text-xs mx-1 rounded-md px-1 grow" v-model="peerEditAllowedIPsBtoA[connectionId]" :id="`peerConfigEditData.${connectionId}.allowedIPsBtoA`" :class="[peerEditConnectionColor.allowedIPsBtoA[connectionId]]" @change="peerEditConnectionColorRefresh += 1" @keyup="peerEditConnectionColorRefresh += 1">
                                <span class="flex-none pr-2"> to <strong>{{ network.peers[peerConfigId].name }}</strong></span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- show config -->
                    <div v-show="peerConfigWindow === 'view-changes'" class="mt-2 w-full overflow-scroll h-96">
                      <div class="text-sm text-gray-500 whitespace-pre grid grid-cols-2 gap-1">
                        <div class="col-span-2 bg-blue-100 rounded-md overflow-scroll">
                          <strong class="text-gray-600 justify-center rounded-md bg-blue-200 p-1">Changed fields</strong>
                          <div v-if="peerChangedPeer || peerChangedConnections || !peerEditChangedFieldsCompute[3]">
                            <div v-if="!peerEditChangedFieldsCompute[3]" class="p-1">{{ JSON.stringify(peerEditChangedFieldsCompute[0], false, 2) }}</div>
                            <div v-else-if="peerChangedPeer && !peerChangedConnections" class="p-1">{{ JSON.stringify({ peers: peerEditChangedFieldsCompute[0].peers }, false, 2) }}</div>
                            <div v-else-if="!peerChangedPeer && peerChangedConnections" class="p-1">{{ JSON.stringify({ connections: peerEditChangedFieldsCompute[0].connections }, false, 2) }}</div>
                            <div v-else class="p-1">{{ JSON.stringify(peerEditChangedFieldsCompute[0], false, 2) }}</div>
                          </div>
                        </div>
                        <div class="col-span-2 bg-green-100 rounded-md overflow-scroll">
                          <strong class="text-gray-600 justify-center rounded-md bg-green-200 p-1">Added fields</strong>
                          <div v-if="peerAddedConnections" class="p-1">{{ JSON.stringify(peerEditChangedFieldsCompute[1], false, 2) }}</div>
                        </div>
                        <div class="col-span-2 bg-red-100 rounded-md overflow-scroll">
                          <strong class="text-gray-600 justify-center rounded-md bg-red-200 p-1">Removed fields</strong>
                          <div v-if="peerRemovedConnections" class="p-1">{{ JSON.stringify(peerEditChangedFieldsCompute[2], false, 2) }}</div>
                        </div>
                        <div class="bg-red-100 rounded-md overflow-scroll">
                          <strong class="text-gray-600 justify-center rounded-md bg-red-200 p-1">Old configuration</strong>
                          <div v-if="!peerEditChangedFieldsCompute[3]" class="p-1">{}</div>
                          <div v-else class="p-1">{{ JSON.stringify(peerEditOldConfig, false, 2) }}</div>
                        </div>
                        <div class="bg-green-100 rounded-md overflow-scroll">
                          <strong class="text-gray-600 justify-center rounded-md bg-green-200 p-1">New configuration</strong>
                          <div v-if="!peerEditChangedFieldsCompute[3]" class="p-1">{}</div>
                          <div v-else class="p-1">{{ JSON.stringify(peerEditNewConfig, false, 2) }}</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                <!-- copy config -->
                <button v-show="peerConfigWindow === 'file'" type="button"
                        @click="navigator.clipboard.writeText(getPeerConf(peerConfigId)).then(() => {
                                alert('successfully copied');
                                })
                                .catch(() => {
                                alert('something went wrong');
                                });"
                        class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-700 text-base font-medium text-white hover:bg-green-800 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm">
                  Copy To Clipboard
                </button>
                <!-- Save Configuration -->
                <button v-show="peerConfigWindow === 'edit' || peerConfigWindow === 'view-changes'" type="button"
                        @click="peerConfigEditUpdateConfirmation().then(); peerConfigWindow = 'confirm-changes'"
                        class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-700 text-base font-medium text-white hover:bg-green-800 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm disabled:bg-gray-200 transition"
                        :disabled="!(Object.keys(peerEditChangedFieldsCompute[0]).length + Object.keys(peerEditChangedFieldsCompute[1]).length + Object.keys(peerEditChangedFieldsCompute[2]).length > 0 && peerEditChangedFieldsCompute[3] && webServerStatus === 'up')">
                  Save Configuration
                </button>
                <button type="button" @click="peerConfigId = null;"
                        class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Confirm Dialog -->
        <div v-if="peerConfigWindow === 'confirm-changes'" class="fixed z-10 inset-0 overflow-y-auto">
          <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <!--
        Background overlay, show/hide based on modal state.

        Entering: "ease-out duration-300"
          From: "opacity-0"
          To: "opacity-100"
        Leaving: "ease-in duration-200"
          From: "opacity-100"
          To: "opacity-0"
      -->
            <div class="fixed inset-0 transition-opacity" aria-hidden="true">
              <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
            </div>

            <!-- This element is to trick the browser into centering the modal contents. -->
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            <!--
        Modal panel, show/hide based on modal state.

        Entering: "ease-out duration-300"
          From: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
          To: "opacity-100 translate-y-0 sm:scale-100"
        Leaving: "ease-in duration-200"
          From: "opacity-100 translate-y-0 sm:scale-100"
          To: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
      -->
            <div
                    class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
                    role="dialog" aria-modal="true" aria-labelledby="modal-headline">
              <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                <div class="sm:flex sm:items-start">
                  <div
                          class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10">
                    <!-- Heroicon name: outline/exclamation -->
                    <svg class="h-6 w-6 text-red-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                         stroke="currentColor" aria-hidden="true">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                    </svg>
                  </div>
                  <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                    <h3 class="text-lg leading-6 font-medium text-gray-900">
                      Confirm changes for <strong>{{network.peers[peerConfigId].name}}</strong>
                    </h3>
                    <div class="mt-2">
                      <p class="text-sm text-gray-500">
                        Are you sure you want to make these changes?
                      </p>
                    </div>
                    <!-- show config -->
                    <div class="mt-2">
                      <div class="text-sm text-gray-500 whitespace-pre grid grid-cols-2 gap-1">
                        <div class="col-span-2 bg-blue-100 rounded-md overflow-scroll">
                          <strong class="text-gray-600 justify-center rounded-md bg-blue-200 p-1">Changed fields</strong>
                          <div v-if="peerChangedPeer || peerChangedConnections || !peerEditChangedFieldsCompute[3]">
                            <div v-if="!peerEditChangedFieldsCompute[3]" class="p-1">{{ JSON.stringify(peerEditChangedFieldsCompute[0], false, 2) }}</div>
                            <div v-else-if="peerChangedPeer && !peerChangedConnections" class="p-1">{{ JSON.stringify({ peers: peerEditChangedFieldsCompute[0].peers }, false, 2) }}</div>
                            <div v-else-if="!peerChangedPeer && peerChangedConnections" class="p-1">{{ JSON.stringify({ connections: peerEditChangedFieldsCompute[0].connections }, false, 2) }}</div>
                            <div v-else class="p-1">{{ JSON.stringify(peerEditChangedFieldsCompute[0], false, 2) }}</div>
                          </div>
                        </div>
                        <div class="col-span-2 bg-green-100 rounded-md overflow-scroll">
                          <strong class="text-gray-600 justify-center rounded-md bg-green-200 p-1">Added fields</strong>
                          <div v-if="peerAddedConnections" class="p-1">{{ JSON.stringify(peerEditChangedFieldsCompute[1], false, 2) }}</div>
                        </div>
                        <div class="col-span-2 bg-red-100 rounded-md overflow-scroll">
                          <strong class="text-gray-600 justify-center rounded-md bg-red-200 p-1">Removed fields</strong>
                          <div v-if="peerRemovedConnections" class="p-1">{{ JSON.stringify(peerEditChangedFieldsCompute[2], false, 2) }}</div>
                        </div>
                        <div class="bg-red-100 rounded-md overflow-scroll">
                          <strong class="text-gray-600 justify-center rounded-md bg-red-200 p-1">Old configuration</strong>
                          <div v-if="!peerEditChangedFieldsCompute[3]" class="p-1">{}</div>
                          <div v-else class="p-1">{{ JSON.stringify(peerEditOldConfig, false, 2) }}</div>
                        </div>
                        <div class="bg-green-100 rounded-md overflow-scroll">
                          <strong class="text-gray-600 justify-center rounded-md bg-green-200 p-1">New configuration</strong>
                          <div v-if="!peerEditChangedFieldsCompute[3]" class="p-1">{}</div>
                          <div v-else class="p-1">{{ JSON.stringify(peerEditNewConfig, false, 2) }}</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                <button type="button" @click="peerConfigEditApply().then(); peerConfigWindow = 'edit'; peerConfigId = null;"
                        class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-700 text-base font-medium text-white hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm">
                  Do it!
                </button>
                <button type="button" @click="peerConfigWindow = 'edit'"
                        class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>


        <!-- WireGuard Dialog -->
        <div v-if="wireguardToggleTo !== null" class="fixed z-10 inset-0 overflow-y-auto">
          <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <!--
        Background overlay, show/hide based on modal state.

        Entering: "ease-out duration-300"
          From: "opacity-0"
          To: "opacity-100"
        Leaving: "ease-in duration-200"
          From: "opacity-100"
          To: "opacity-0"
      -->
            <div class="fixed inset-0 transition-opacity" aria-hidden="true">
              <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
            </div>

            <!-- This element is to trick the browser into centering the modal contents. -->
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            <!--
        Modal panel, show/hide based on modal state.

        Entering: "ease-out duration-300"
          From: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
          To: "opacity-100 translate-y-0 sm:scale-100"
        Leaving: "ease-in duration-200"
          From: "opacity-100 translate-y-0 sm:scale-100"
          To: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
      -->
            <div
                    class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
                    role="dialog" aria-modal="true" aria-labelledby="modal-headline">
              <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                <div class="sm:flex sm:items-start">
                  <div
                          class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10">
                    <!-- Heroicon name: outline/exclamation -->
                    <svg class="h-6 w-6 text-red-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                         stroke="currentColor" aria-hidden="true">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                    </svg>
                  </div>
                  <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                    <h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-headline">
                      {{ wireguardToggleTo[0].toUpperCase() + wireguardToggleTo.slice(1) }} the WireGuard Network
                    </h3>
                    <div class="mt-2">
                      <p class="text-sm text-gray-500">
                        Are you sure you want to {{ wireguardToggleTo }} the WireGuard Network?
                      </p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                <button type="button" @click="toggleWireGuardNetworking();"
                        class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm">
                  {{ wireguardToggleTo[0].toUpperCase() + wireguardToggleTo.slice(1) }}
                </button>
                <button type="button" @click="wireguardToggleTo = null"
                        class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>



      </div>

      <div v-if="authenticated === false">
        <h1 class="text-4xl font-medium my-16 text-gray-700 text-center">WireGuard</h1>

        <form @submit="login" class="shadow rounded-md bg-white mx-auto w-64 p-5 overflow-hidden mt-10">
          <!-- Avatar -->
          <div class="h-20 w-20 mb-10 mt-5 mx-auto rounded-full bg-red-800 relative overflow-hidden">
            <svg class="w-10 h-10 m-5 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
              fill="currentColor">
              <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
            </svg>
          </div>

          <input type="password" name="password" placeholder="Password" v-model="password"
            class="px-3 py-2 text-sm text-gray-500 mb-5 border-2 border-gray-100 rounded-lg w-full focus:border-red-800 outline-none" />

          <button v-if="authenticating"
            class="bg-red-800 w-full rounded shadow py-2 text-sm text-white cursor-not-allowed">
            <svg class="w-5 animate-spin mx-auto" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
              fill="currentColor">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor"
                d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
              </path>
            </svg>
          </button>
          <input v-if="!authenticating && password" type="submit"
            class="bg-red-800 w-full rounded shadow py-2 text-sm text-white hover:bg-red-700 transition cursor-pointer"
            value="Sign In">
          <input v-if="!authenticating && !password" type="submit"
            class="bg-gray-200 w-full rounded shadow py-2 text-sm text-white cursor-not-allowed" value="Sign In">
        </form>
      </div>

      <div v-if="authenticated === null" class="text-gray-300 pt-24 pb-12">

        <svg class="w-5 animate-spin mx-auto" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
          fill="currentColor">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor"
            d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
          </path>
        </svg>

      </div>

    </div>

    <p class="text-center m-10 text-gray-300 text-xs">Made by <a target="_blank" class="hover:underline"
        href="https://emilenijssen.nl/?ref=wg-easy">Emile Nijssen</a> · <a class="hover:underline"
        href="https://github.com/sponsors/WeeJeWel" target="_blank">Donate</a> · <a class="hover:underline"
        href="https://github.com/weejewel/wg-easy" target="_blank">GitHub</a>
    </p>


  </div>

  <script src="./js/vendor/vue.min.js"></script>
  <script src="./js/vendor/apexcharts.min.js"></script>
  <script src="./js/vendor/vue-apexcharts.min.js"></script>
  <script src="./js/vendor/md5.min.js"></script>
  <script src="./js/vendor/timeago.min.js"></script>
  <script src="./js/vendor/force-graph.js"></script>
  <script src="./js/WireGuardHelper.js"></script>
  <script src="./js/api.js"></script>
  <script src="./js/app.js"></script>
  <script src="./js/vendor/qrcode.js"></script>


  <script>
    const staticPeerIconSrc = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAABE0lEQVR4nO3cwQqCQBRAUYv+/5dr0cZCCBW9U52zFAayy4MGc6YJAAD4N5eFa/cNa85c/+1e7v9afQqeBIgJEBMgJkBMgJgAsduGNUf/Tv+0Txjdqu/HBMQEiAkQEyAmQEyAmAAxAWICxASICRATICZATICYALGl5wFH/++HGRMQEyAmQEyAmAAxAWICxASICRATICZATICYADEBYgLEBIgJEBMgJkBMgJgAMQFiAsQEiAkQEyAmQEyAmAAxAWICxLacF7TXr58LuooJiAkQEyAmQEyAmAAxAWLFPmDte8R79w1Dv7dsAmICxASICRATICZATIBYsQ94d/TzgaHPNzIBMQFiAsQEiAkQEyAmAAAAwMkeLOcKqUkVgK8AAAAASUVORK5CYII=";
    const roamingPeerIconSrc = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAH0UlEQVR4nO2dSYxVRRSGv6alG1RkUAYBMVEQRUFNXCAEAzIYogLGRCMunHCOMeBAnGLcKYPgENRoNCbGKG4gSgwLFYc4IAYSWuZRlIAg0NCI0NDXRfVLuuF1/ee9W+9e0PqS2nTdOufUPe/WcGpoiEQikUgkEolEIpFI5P9EdQVk1gJjgEnA+cBmoLECerKgE3ALMB7oBWwEjuVqkeAiYB2QtEg7geF5GlUm1wC7aV2Xtbg6npT0BbbS2uBC2gWcnZ9pJXMO8BfF67IV6JOfacXpDKyguMGF9EBu1pXOI/jrUgd0DaGoXQAZHYBFwOXiuQsC6MoKZeulwEJcf5eKEA6Yha2N3xJAV1ZsNjwzAphRaUMUN+H/VE/VPqAHJ3bAxVITMCEnG+kH7BEGJsARYGxONqZhLM52Vb/duAFI5nxmMK4JuDMP4wJxG27cr+q5MGvDbjQYlQDTsjasAjyOra7jszKoFjchUQbNz8qgDPgQXd/1BBgVWXjCYMxG3NzASl/cVD8reuNmtNZRYGdgE7reU4Nbehy1wHZhxDFgqFHeZFrPnpcBV4U1uRVDaT1h/APXzlsYhu4PfgdqwprcminCgAR42yjrXlwnfXz5BmBAUKsdlwAHi+hrwtXLwrtFyh+f7gpqdQvaAWuE8j1Ad4OsScBRj5z3A9sO8IFHXyNuYKHoAez1yEmAVYSZ4J7AKKE4AaYb5AwA9gs5qwPbDrBB6KwHLjTIeUbISXCR1OC8JZTWozveGuAXIScBfg5vPsuNetsLOV3RP6A3QhtfQ9vh2UKyxEWeFDIK6amw5gPwnFH3YwZZM4WMXWhHlsQNQmET+vPtDRwQchJgKZUZT3fA/cKV/nqgp5A1wCDnupDGvyyU/RhARoKbzKjKp6Enui+wfs1LA8gws0woe1SUt7SbfwOXhTS6DYYAh4Qt9UAXIWeqkGH5UZo4C/+QMUGP2x8W5ROyjRtZZvNqBe9iUb4RODOEsWOEou0GGd8JGauB04z2DAZewS0LNjSnOmAu9i+oPTqetUTIqAJ2CBmjjPZ4eUgo+UiU707xGW/LdIfBjlpgHv5wwFHgdWzhgLuFTceAbkLGfCHjfoMdkjlCiRoy3izK70WPemqBL4WclukLtBM64Np6n5yJQoaalM0S5U1T5v4if73Iv1rkLwQOi2fmUtrnfC0wWzzzD/CpeGaYyFd1V+/O5AC13KaMGCjyvxL5g4H7xDPFeBC3eyGNbmW7qrtcqrQ4QPXkO0W+mqCpuM89lBfcqm4u62O5yFe2q7p3EvlBHNAg8lVHtkPkp1nQV2U3iXxl+wGRH2QY2kDbnUwT2omqvOosLeGLttJ+Ibsd/hGapbxvVKbKm76AxPBMGqpE/tEUstPuyk5bd1ne4gBfE1MFnC7K+z7TKnTsRzUTacqehf8HoJrXM/C/Q1U+tQNAt3N7RL5ajFcjlTRlVSerbFedbCYOUL/gjSJ/kMh/E9dOl0pTc1kfV4r8DSJf1V110iYHbBP5KhC3VuSrCdYG9KSqGDPQTZDSrWxXdVfvzuQA9StQRvwg8ifgwgI+ngYWi2da8jluBcxHR/RC/PciX9VdvTuTA9RsT50L+Bb/aKALem/OUdyqnGWR40Xci1Wjp9vxt+FNuCiuD1V39e5MjMY/1raEo78RMtZgX0NVY38LNbiX45OjOnBLOHqk0R4vlgUZdXBNhbQT3CZYCyEcMN0gR4WS1YLMEQLNhEEvZqslyS7oJclDuOVCRVoHXIFtSVJtsZkmZKi+ryRCLMrPFjISXKelhnZpHFA466tkvGSoj/pRWmSYuV4oa0LHvs9FfwUJrmIdPXLKdUBH9OaCBNiH24Low7ItZZyQURI16DNTMw1yrIcdnvfIKNcBLxh1W7aYzxIy/sS+xm3GsjVRbeWowfYrXOGRUa4DVhrK/oQejXVDf8nzhIyyGCmUJti2FPZHr8X6whflOmCzKLcP21nmZw02jDDIKZl2uNUrn2Lr9vQJ+Ie2vp0W5TrgY0+ZRtxET9ET5yif/l/RIfayUVs5EuAdo6wpFF8MOYh/f0+5DhiC2313/POlHNB4z6C/oqdCa3HHenwGHEPvhChwKy5gVSi7Er0ToVwHgDvRX9fi2d9w19FYGI7e37SNCh9RArd9W72EUg7pVeP6hX7G59M4oEA/3FqA9b6kLug+JEFPSINQg+2Y6icV0h/CAaViOaa6joyOqYKemBWSNb5TClk7wHqoJOh5AAt5XVWQpQMmo9v9BFgQWK+J89DHlhJcVDDktDwrB4zDdlnHLnK8QWsitl+IdX5gIQsH9EQfRy184Zb5Q0V5FVsbGWqEkIUD1OmXQpoTSF8qatErXgluh3MIsnDAawY9SzhJriw7jGuK6sRzWwPoygp1ZdlK3Gl/ta0+U/rQ9rWVewl3+jGLL6AXbfcBWzgJr60sMIAT75PYjTswEYqsRkGjOXGUt4rAF4lUImrXHjdRG4jbNbAAF34OhXrJIevUGdfU9MLN/hcR+BrmioVNK0iWDqg4FblWJWInOiBnogNyJjogZ6IDciY6IGeiA3ImOiBnogNyJjogZ6IDciY6IGeiA3LmVHSAL7S9LzMrAnEqOuBrT566aC8SgEEUv8JmP/rag0ggBuNOzh9uToub/xbJmGoq8x9hI5FIJBKJRCKR/zL/Ap1o3SFYIjtyAAAAAElFTkSuQmCC";
  </script>


</body>

</html>